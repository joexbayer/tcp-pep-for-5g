void pep_client_receive_work(struct work_struct *work)
{
	int ret = 1;
	int ret_forward;
	struct pep_tunnel* tun = container_of(work, struct pep_tunnel, c2e);

	unsigned char *buffer = kzalloc(PEP_MAX_TCP_BUFFER_SIZE, GFP_KERNEL);
	if (!buffer) {
		printk(KERN_INFO "[PEP] pep_endpoint_receive_work: out of memory \n");
		return;
	}

	while(ret > 0){
		ret = pep_tcp_receive(tun->client.sock, ...);
		if(ret > 0){
			ret_forward = pep_tcp_send(tun->endpoint.sock, ...);
			tun->total_client += ret_forward;
			tun->packets_fowarded++;
		} else {
			if(pep_tunnel_is_disconnected(tun)){
				pep_tunnel_close(tun);
				return;
			}
		}
	kfree(buffer);
}
